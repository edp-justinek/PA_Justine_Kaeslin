<cms type="masterPage" value="masterpage.htm"></cms>

<div class="row">
    <div class="col-sm-12 mb-3">
        <h6>
			<a href="/?home" class="text-decoration-none">Hauptseite</a> 
			<span> / </span>
			<a href="/?Benutzerkonto_Daten" class="text-decoration-none">Benutzerkonto</a>
			<span> / </span>
			<span>Mitglieder</span>
		</h6>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <h2 class="text-center">Mitglieder hinzufügen</h2>
    </div>
</div>


<div class="col-xs-12 mb-5">
    <div class="text-center">
        <a class="btn btn-light mb-2" href="/?Benutzerkonto_Daten">
            <h4>Daten</h4>
        </a>
        <a class="btn btn-light mb-2" href="/?Benutzerkonto_Abos">
            <h4>Abos</h4>
        </a>
        <a class="btn btn-light mb-2" href="/?Benutzerkonto_Bestellungen">
            <h4>Bestellungen</h4>
        </a>
		<a class="btn btn-light mb-2" href="/?Benutzerkonto_Mitglieder"><h4>Mitglieder</h4></a>
    </div>
</div>

<h3>Neues Mitglied</h3>
<p>Fügen sie dem Abo ein neues Mitglied hinzu.</p>

<div class="row">
    <div class="col-sm-10">
        <div class="content-box">
			<section class="contact-form">
            <form action="" method="post" data-toggle="validator" class="form-horizontal content-box">
				<div class="form-group row">
                    <label for="Anrede" class="col-sm-2 col-form-label">Anrede:</label>
                    <div class="col-sm-9">
                        <select class="form-control" id="Anrede" name="Anrede" required>
                            <option value="01">Herr</option>
                            <option value="02">Frau</option>
                        </select>
                    </div>
                </div>
				<br>

                <div class="form-group row">
                    <label for="Name" class="col-sm-2 col-form-label">Name*:</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="Name" name="Name" placeholder="Nachname" required>
                    </div>
                </div>
				<br>
                <div class="form-group row">
                    <label for="Name" class="col-sm-2 col-form-label">Vorname*:</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="Vorname" name="Vorname" placeholder="Vorname" required>
                    </div>
                </div>
				<br>
                <div class="form-group row">
                    <label for="EmailAdr" class="col-sm-2 col-form-label">E-Mail-Adresse*:</label>
                    <div class="col-sm-9">
                        <input type="email" class="form-control" id="EmailAdr" name="EmailAdr" placeholder="E-Mail-Adresse" data-error="ungültige E-Mail-Adresse" required>
                        <div class="help-block with-errors"></div>
                    </div>
                </div>
				<br>
                <div class="form-group row">
                    <label for="passwort" class="col-sm-2 col-form-label">Passwort*:</label>
                    <div class="col-sm-4">
                        <div class="input-group">
                            <input type="password" data-minlength="6" tabindex="0" class="form-control pwd checkme" id="passwort" name="passwort" placeholder="Passwort" required>
                            <span class="input-group-btn">
            <button class="btn btn-default btnPWEye reveal" tabindex="-1" type="button" onclick="showPW()"><i
                class="glyphicon glyphicon-eye-open"></i></button>
            </span>
                        </div>
                        <span class="help-block">Minimal 6 Zeichen</span>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-4">
                        <div class="input-group">
                            <input type="password" data-minlength="6" tabindex="0" class="form-control pwd checkme" id="passwort_hidden" name="passwort_hidden" data-match="#passwort" data-match-error="Passwörter sind nicht identisch" placeholder="Passwort wiederholen" required>
                            <span class="input-group-btn">
								<button class="btn btn-default btnPWEye reveal border" tabindex="-1" type="button" onclick="showSecondPW()"><i class="bi bi-eye-fill"></i></i></button>
							</span>
                        </div>
                        <div class="help-block with-errors"></div>
                    </div>
                </div>
				<br>
                <div class="form-group row">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-8">
                        <p>
                            <input type="checkbox" name="checkAGB" value="true">
                            <a class="link btn-link" href="/images/agb_de-CH.pdf" target="_blank">Ich habe die allgemeinen Geschäftsbedingungen gelesen und bin damit einverstanden</a>
                        </p>

                        
                    </div>
                    <div class="col-sm-8"></div>
                    <div class="col-sm-3">
              
						<button id="btn" type="submit" class="btn btn-md btn-primary btn-block btn-clr" onclick="PWcheck()"><a class="btn-primary" >Mitglied hinzufügen</a></button>
                    </div>					
                </div>
				
				<div class="form-group row">
                    <div class="col-sm-9"></div>
                    <div class="col-sm-1">
                        <a href="/?Benutzerkonto_Mitglieder">Zurück</a>
                    </div>
                </div>
            </form>
		</section>
		
		<div id="name"></div>
		<div id="email"></div>


<script>

/*	function handleFormSubmit(event) {
  event.preventDefault();
  
  const data = new FormData(event.target);
  
  const formJSON = Object.fromEntries(data.entries());

  
  let mitgliedResult;
  mitgliedResult = JSON.stringify(formJSON, null, 2);
  
  console.log(mitgliedResult);
}

const form = document.querySelector('.contact-form');
form.addEventListener('submit', handleFormSubmit);*/



let mitgliederList = []
const addMitglied = (ev)=>{
	ev.preventDefault();
	let mitglied = {
		id: Date.now(),
		name: document.getElementById('Vorname').value + " " + document.getElementById('Name').value,
		email: document.getElementById('EmailAdr').value
	}
		mitgliederList.push(mitglied);
		//document.querySelector('form').reset();
	
	console.log(mitgliederList);
	
	//saving to localStorage
	localStorage.setItem('MyMovieList', JSON.stringify(mitgliederList) );
	}
	document.addEventListener('DOMContentLoaded', ()=>{
	document.getElementById('btn').addEventListener('click', addMitglied);
	getMitglied();
});

function getMitglied() {
  let name = localStorage.getItem("name");
  document.getElementById("name").innerHTML = name;
   let email = localStorage.getItem("email");
  document.getElementById("name").innerHTML = email;
}

</script>